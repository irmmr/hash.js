/*
* HashJs toolitop library (v1.0) plugin
* Copyright 2019-2020 by irmmr
* Licenced by personal use
* Check by (new Hash.info()).addons.toolitop, useful in browser console.
*/
!function(t){var e={load_error:"hash.js Toolitop : can't load HashJs. please befor run Hash event, run Hash.js library.",open_setting:"hash.js Toolitop : Error to open/close setting window! toolitop setting box is not appended to the window.",append_setting:"hash.js Toolitop : Setting is not appended! Please run toolitop setting class in body tag script, not in head and other.",load_mode:'hash.js Toolitop : Toolitop mode is incorrect. you just can use "light" or "dark", not "%s".',load_status:'hash.js Toolitop : Toolitop status is incorrect. you just can use "yes" or "no", not "%s".'},s=(t,e="",s="undefined")=>typeof t!==s?t:e,n=(t,e="",s="number")=>typeof t===s?t:e,o=(t,e)=>t.hasAttribute(e)?t.getAttribute(e):"",i=t=>!!t.complete&&0!==t.naturalWidth,a=t=>{if("boolean"==typeof t)return t;switch(t.toLowerCase()){case"true":return!0;case"false":default:return!1}},l=(t,e=function(){},s=function(){})=>(s="function"==typeof s?s:function(){},(e="function"==typeof e?e:function(){})!==function(){}&&(t.onmouseover=function(t){e.call(this)}),s!==function(){}&&(t.onmouseout=function(t){s.call(this)}),!0),r=(t,e=[])=>(e=Array.isArray(e)?e:[e],e=Array.from(new Set(e)),null!=t&&(e.forEach(e=>{t.classList.contains(e)||t.classList.add(e)}),!0)),h=t=>(null!==t&&(t.style.display="block"),!0),d=t=>(null!==t&&(t.style.display="none"),!0),u=t=>null!==document.getElementById(t)?document.getElementById(t):null,c=(t,e=[])=>(e=e.splice(" "),e=Array.from(new Set(e)),null!=t&&(e.forEach(e=>{t.classList.contains(e)&&t.classList.remove(e)}),!0)),m=(t,e)=>(e=e.replace(new RegExp(" ","g"),""),null!==t&&t.classList.contains(e)),p=(t,e,s)=>{var n=new Date;n.setTime(n.getTime()+24*s*60*60*1e3);var o="expires="+n.toUTCString();document.cookie=t+"="+e+";"+o+";path=/"},g=t=>{for(var e=t+"=",s=document.cookie.split(";"),n=0;n<s.length;n++){for(var o=s[n];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return""},f=t=>""!==g(t),_=()=>{var t=u("hs_lsl_main"),s=u("hs_translate");if(null===t)return console.warn(e.open_setting),!1;t.innerHTML=null!==s?`<p align=center class="hs-setting-message"><b>${o(s,"hs-saved")}</b> ${o(s,"hs-text")} <a href="javascript:location.reload(true)">${o(s,"hs-refresh")}</a><br /><small> ${o(s,"hs-notice")}</small> <i onclick="document.getElementById('hs_lsl_main').innerHTML='';" class="fas fa-trash ia"></i></p>`:'<p align=center class="hs-setting-message"><b>Saved!</b> Please refresh page for append all changes. <a href="javascript:location.reload(true)">Refresh now</a><br /><small> For first time in dark mode, you don\'t need to refresh.</small> <i onclick="document.getElementById(\'hs_lsl_main\').innerHTML=\'\';" class="fas fa-trash ia"></i></p>'},v=()=>{var t=u("hs_tool_show_mode"),e="hash_js_toolitop_mode",s=u("hs_op_light"),n=u("hs_op_dark");return m(t,"hs-mode-sun")||("light"!==g(e)&&p(e,"light",30),null!==t&&(r(t,["hs-mode-sun","fa-sun"]),c(t,["hs-mode-moon","fa-moon"])),null!==n&&null!==s&&(s.setAttribute("selected",""),n.removeAttribute("selected")),_()),!0},y=()=>{var t=u("hs_tool_show_mode"),e="hash_js_toolitop_mode",s=u("hs_op_light"),n=u("hs_op_dark");return m(t,"hs-mode-moon")||("dark"!==g(e)&&p(e,"dark",30),null!==t&&(r(t,["hs-mode-moon","fa-moon"]),c(t,["hs-mode-sun","fa-sun"])),null!==n&&null!==s&&(n.setAttribute("selected",""),s.removeAttribute("selected")),_()),!0},w=()=>{var t=u("hs_tool_show_status"),e="hash_js_toolitop_status",s=u("hs_op_yes"),n=u("hs_op_no");return m(t,"hs-status-yes")||("yes"!==g(e)&&p(e,"yes",30),null!==t&&(r(t,["hs-status-yes","fa-check"]),c(t,["hs-status-no","fa-times"])),null!==n&&null!==s&&(s.setAttribute("selected",""),n.removeAttribute("selected")),_()),!0},b=()=>{var t=u("hs_tool_show_status"),e="hash_js_toolitop_status",s=u("hs_op_yes"),n=u("hs_op_no");return m(t,"hs-status-no")||("no"!==g(e)&&p(e,"no",30),null!==t&&(r(t,["hs-status-no","fa-times"]),c(t,["hs-status-yes","fa-check"])),null!==n&&null!==s&&(n.setAttribute("selected",""),s.removeAttribute("selected")),_()),!0};class k extends HTMLAnchorElement{constructor(){super();var e=!!this.hasAttribute("hs-link")&&(!!this.hasAttribute("hs-link-html")&&a(this.getAttribute("hs-link"))),s=o(this,"hs-link-html"),n=o(this,"hs-link-img"),m=o(this,"hs-link-mode");m="light"==(m=m.toLowerCase())||"dark"==m?m:"light";var p=!1;this.hasAttribute("hs-link-mode")&&(p="light"!=m);var g=!0;if(this.hasAttribute("hs-link-status")){var f=o(this,"hs-link-status");g="yes"==(f="yes"==(f=f.toLowerCase())||"no"==f?f:"yes")}if(this.hasAttribute("id")&&""!==this.getAttribute("id"))var _=this.getAttribute("id");else{_=`hs_overlay_${Date.now()*Math.ceil(10*Math.random()^4)}`;this.setAttribute("id",_)}var v=this.innerText;if(this.setAttribute("href","javascript:void(0)"),this.hasAttribute("title")&&this.removeAttribute("title"),e){var y=`\n                <div class="animated hs-overley${p?" hs-night":""}" id="${_}_main">\n                    ${""!==n?`<img class="hs-overley-img" id="${_}_img" src="${n}">`:""}\n                    <img class="hs-overley-img" id="${_}_img_error" style="display:none">\n                    <div class="hs-overley-txt">\n                        ${s=s.replace(new RegExp(v,"g"),`<b>${v}</b>`)}\n                    </div>\n                    <div class="hs-overlay-btn">\n                        <button onclick="(new Hash.toolitop()).openSetting()"><i class="fas fa-cog"></i></button>\n                    </div>\n                </div>\n                `;r(this,["hs-lshl"]),c(this,["hs-lsnl"])}else{y=`\n                <div class="hs-overley" id="${_}_main">\n                    <div class="hs-overley-txt">\n                        Not exits any page for <b>${v}</b>\n                    </div>\n                </div>\n                `;r(this,["hs-lsnl"]),c(this,["hs-lshl"])}u(_).insertAdjacentHTML("afterend",y);var w=_+"_main",b=u(w);if(r(b,"hs-link-special-vertual"),this.hasAttribute("hs-link-img")){var k=_+"_img_error",A=u(_+"_img"),T=u(k),x="file:///F:/xampp/htdocs/hash.js/loading-img.png";if(A.onerror=function(){A.error="",h(T),d(A),T.src=x},A.onload=function(){this.style.maxHeight=this.style.width},T.setAttribute("src",x),!i(A)){var $=0;d(A),h(T);var j=setInterval(function(){++$<5?i(A)&&(h(A),d(T),t.clearInterval(j)):(T.setAttribute("src","file:///C:/Users/paresh/Desktop/failed-loading.png"),t.clearInterval(j))},1e3)}}this.hasAttribute("hs-link-style")&&(u(w).style.cssText=this.getAttribute("hs-link-style")),this.hasAttribute("hs-link-class")&&u(w).classList.add(this.getAttribute("hs-link-class"));var L=this.getBoundingClientRect();b.getBoundingClientRect();b.setAttribute("style","left:"+L.left+"px;top:NaN");var H=null;function E(e){e.hasAttribute("hs-toolitop-showning")&&(r(e,["fadeOutDown"]),c(e,["fadeInUp"]),H=setTimeout(function(){d(e),e.removeAttribute("hs-toolitop-showning"),t.clearTimeout(H)},500))}l(this,function(){var t;!function(t,e){t.x>1150&&(e.style.right="15px",e.style.left="auto")}(L,b),(t=b).hasAttribute("hs-toolitop-showning")||(r(t,["fadeInUp"]),c(t,["fadeOutDown"]),h(t),t.setAttribute("hs-toolitop-showning",""))},function(){E(b)}),l(document.getElementById(w),function(){var e;(e=b).hasAttribute("hs-toolitop-showning")&&(t.clearTimeout(H),c(e,["fadeOutDown","fadeInUp"]))},function(){E(b)}),g||(b.innerHTML="",r(b,["hidden-all"]))}}Tool=function(o={}){this.settingLoad=((t={})=>{t.translate=n(t.translate,{},"object"),t.translate.every_time=s(t.translate.every_time,"Every time"),t.translate.never=s(t.translate.never,"Never"),t.translate.modeText=s(t.translate.modeText,"Toolitop mode"),t.translate.day=s(t.translate.day,"Light"),t.translate.night=s(t.translate.night,"Dark"),t.translate.statusText=s(t.translate.statusText,"Toolitop show status"),t.translate.title=s(t.translate.title,"Description setting"),t.setting=n(t.setting,{},"object"),t.setting.new=s(t.setting.new,[]),t.setting.new=Array.isArray(t.setting.new)?Array.from(new Set(t.setting.new)):[];var o="";t.setting.new.forEach(t=>{o+=t}),t.close=n(t.close,"fas fa-minus","string");var i=`<p align=center>${t.translate.statusText} <select><option id="hs_op_yes" onclick="(new Hash.toolitop()).showEnable()">${t.translate.every_time}</option><option id="hs_op_no" onclick="(new Hash.toolitop()).showDisable()">${t.translate.never}</option></select> <i class="fas fa-check hs-status-show hs-status-yes" id="hs_tool_show_status"></i></p>`+`<p align=center>${t.translate.modeText} <select><option id="hs_op_light" onclick="(new Hash.toolitop()).lightMode()">${t.translate.day}</option><option id="hs_op_dark" onclick="(new Hash.toolitop()).darkMode()">${t.translate.night}</option></select> <i class="fas fa-sun hs-mode-show hs-mode-sun" id="hs_tool_show_mode"></i></p>${o}`,a=document.createElement("div");a.classList="hs-link-setting animated fadeIn",a.id="hs_link_show_setting",a.style.display="none",a.innerHTML=`<div class="hs-link-setting-lable animated slideInUp"><div class="hs-lsl-header">${t.translate.title} <i class="${t.close}" onclick="(new Hash.toolitop()).closeSetting()"></i></div><div class="hs-lsl-main">${i}</div><div class="hs-lsl-main" id="hs_lsl_main"></div></div>`,null!==document.body?document.body.appendChild(a):console.warn(e.append_setting)}),this.openSetting=((t={})=>{t.do=n(t.do,function(){},"function"),t.do.call(this);var s=u("hs_link_show_setting");return null!==s?(r(s,["fadeIn"]),c(s,["fadeOut"]),h(s),!0):(console.warn(e.open_setting),!1)}),this.addSetting=((t={})=>{t.new=s(t.new,"");var n=u("hs_lsl_main");return null!==n?(n.innerHTML+=t.new,!0):(console.warn(e.open_setting),!1)}),this.closeSetting=((s={})=>{s.do=n(s.do,function(){},"function"),s.do.call(this);var o=u("hs_link_show_setting");if(null!==o){r(o,["fadeOut"]),c(o,["fadeIn"]);var i=setTimeout(function(){d(o),t.clearTimeout(i)},700);return!0}return console.warn(e.open_setting),!1}),this.lightMode=((t={})=>v()),this.darkMode=((t={})=>y()),this.showEnable=((t={})=>w()),this.showDisable=((t={})=>b()),this.getStatus=((t={})=>{var e="hash_js_toolitop_status";return f(e)?g(e):null}),this.getMode=((t={})=>{var e="hash_js_toolitop_mode";return f(e)?g(e):null}),this.loadMode=((s={})=>{s.mode=n(s.mode,"light","string"),s.mode=s.mode.toLowerCase();var o="hash_js_toolitop_mode";if("light"==s.mode||"dark"==s.mode?f(o)||g(o)!==s.mode&&p(o,s.mode,30):console.warn(e.load_mode.replace("%s",s.mode)),f(o)){var i=g(o);if("light"==(i="light"==i||"dark"==i?i:"yes"))v();else{y();var a=0,l=setInterval(function(){a++;var e=document.getElementsByClassName("hs-overley");if(a>=5||0!==e.length){for(var s=0;s<e.length;s++)r(e[s],["hs-night"]);t.clearInterval(l)}},100)}}return!0}),this.loadStatus=((s={})=>{s.status=n(s.status,"yes","string"),s.status=s.status.toLowerCase();var o="hash_js_toolitop_status";if("yes"==s.status||"no"==s.status?f(o)||g(o)!==s.status&&p(o,s.status,30):console.warn(e.load_status.replace("%s",s.status)),f(o)){var i=g(o);if("yes"==(i="yes"==i||"no"==i?i:"yes"))w();else{b();var a=0,l=setInterval(function(){a++;var e=document.getElementsByClassName("hs-overley");if(a>=5||0!==e.length){for(var s=0;s<e.length;s++)e[s].innerHTML="",r(e[s],["hidden-all"]);t.clearInterval(l)}},100)}}return!0})};var A=Tool;if("undefined"!=typeof Hash){var T=!1;"function"==typeof define&&define.amd?(define(A),T=!0):(t.Hash.toolitop=A,T=!0),"object"==typeof exports&&(module.exports=A(),T=!0),T&&t.addEventListener("load",()=>{customElements.define("hs-link-show",k,{extends:"a"})})}else console.error(e.load_error)}(window);