/* 
* HashJs + all plugins v1.2.1 (*)
* Copyright (c) 2020 IRMMR
* MIT License
* Useful
* HashJs(v1.2) + HashLoad(v1.0) + HashServer(v1.0) + HashSpa(v1.4)
*/
!function(n){"use strict";var t=(Object.freeze({}),function(){});function e(n){return void 0!==typeof n&&null!==n}function o(n){return e(n)&&"string"==typeof n}function r(n){return e(n)&&"boolean"==typeof n}function i(n){return null!==n&&"object"==typeof n}function a(n,t,e){return n.replace(new RegExp(t,"g"),e)}function c(n){return""==n}function s(n){return null==n}const f={lib:function(t={}){this.hash=n.location.hash,this.href=n.location.href,this.remove=function(t={}){if(e(t)&&i(t)){var o="words"in t?Array.isArray(t.words)?t.words:[t.words]:[];o=(o=Array.from(new Set(o))).filter(n=>""!==n);for(var r=0;r<o.length;r++){var c=n.location.hash;n.location.hash=a(c,o[r],""),n.location.hash=a(c,escape(o[r]),"")}}},this.ref=function(n=""){if(!c(n)&&o(n)){var t=document.referrer;return!c(t)&&t==n}return document.referrer},this.have=function(t=""){var e=n.location.hash;return!c(e)&&(!!c(t)||e.includes(t))},this.clear=function(t={}){if(e(t)&&i(t)){var o=!("sharp"in t)||!r(t.sharp)||t.sharp;n.location.hash,n.location.hash="",o&&history.pushState(null,null,n.location.href.split("#")[0])}},this.get=function(t=!0,o={}){return e(t)&&r(t)&&e(o)&&i(o)?t?n.location.hash.slice(1):n.location.hash:""},this.set=function(t={}){if(e(t)&&i(t)&&"val"in t){var o=t.val;n.location.hash=o}},this.lock=function(t={}){if(e(t)&&i(t)){const t=n.location.hash;n.onhashchange=function(){n.location.hash=t}}}},info:function(n={}){this.version=e("1.2")?"1.2":"?",this.addons={load:void 0!==f.load,spa:void 0!==f.spa,server:void 0!==f.server}},el:function(n={}){this.replace=function(n={}){if("text"in n){var t=o(n.text)?n.text:"",e="replace"in n?Array.isArray(n.replace)?n.replace:[n.replace]:[];e=Array.from(new Set(e));for(var r=0;r<e.length;r++){var c=e[r];if(i(c)&&"from"in c&&"to"in c){var f=c.to,u=c.from;s(f)||s(u)||t.includes(u)&&(t=a(t,u,f))}}return t}return""}},event:function(r,i=function(){}){if(e(r)&&o(r)){var a=r.toLowerCase();switch(i=e(i)&&function(n){return e(n)&&"function"==typeof n}(i)?i:t,a){case"change":n.addEventListener("hashchange",i)}}},ready:!0};"function"==typeof define&&define.amd?define(f):n.Hash=f,"object"==typeof exports&&(module.exports=f())}(window),function(n){"use strict";Object.freeze({});var t=function(){};function e(n){return void 0!==typeof n&&null!==n}function o(n){return e(n)&&"function"==typeof n}function r(n){return document.getElementById(n)}var i=function(i={}){this.page=function(e={}){var r="do"in e&&o(e.do)?e.do:t;("load"in e&&o(e.load)?e.load:t).call(this,{startTime:Date.now()});var i=setInterval(function(){if(a++,void 0!==document.getElementsByTagName("body")[0]){n.clearInterval(i);var t={loadTime:n.performance.timing.domContentLoadedEventEnd-n.performance.timing.navigationStart,checkLen:a,startLoad:c,endLoad:Date.now(),load:!0};r.call(this,t)}},10),a=0,c=Date.now()},this.component=function(i={}){if("app"in i&&e(r(i.app))){var a=i.app,c="do"in i&&o(i.do)?i.do:t,s="load"in i&&o(i.load)?i.load:t,f="error"in i&&function(n){return e(n)&&"string"==typeof n}(i.error)?i.error:"\x3c!--h:error--\x3e",u=r(a),l=u.innerHTML;n.addEventListener("hashchange",function(){var t=0,e=Date.now();s.call(this,{hash:n.location.hash.slice(1),startTime:e});var o=setInterval(function(){t++;var r=u.innerHTML;(r!==l||r.includes(f))&&(n.clearInterval(o),c.call(this,{hash:n.location.hash.slice(1),startTime:e,endTime:Date.now(),loadTime:Date.now()-e,checkLen:t,load:!0}),l=r)},10)})}}};"undefined"!=typeof Hash&&("function"==typeof define&&define.amd?define(i):n.Hash.load=i,"object"==typeof exports&&(module.exports=i()))}(window),function(n){"use strict";var t=Object.freeze({}),e=function(){};function o(n){return void 0!==typeof n&&null!==n}function r(n){return o(n)&&"string"==typeof n}function i(n){return null!==n&&"object"==typeof n}function a(n){return o(n)&&"function"==typeof n}function c(n){return""==n}var s=function(s={}){this.ajax=((s={})=>{if("type"in s&&"url"in s){var f=s.type.toLowerCase(),u=s.url;if(r(f)&&r(u)&&("get"==f||"post"==f)){var l="data"in s&&i(s.data)?s.data:t,h="result"in s&&i(s.result)?s.result:t,d="success"in h&&a(h.success)?h.success:e,p="error"in h&&a(h.error)?h.error:e;if("get"==f){var v=null;if(v=n.XMLHttpRequest?new XMLHttpRequest:!!n.ActiveXObject&&new ActiveXObject("Microsoft.XMLHTTP")){v.onreadystatechange=function(){if(v.readyState===XMLHttpRequest.DONE){var n=v.status;200===n?d.call(this,v.responseText):p.call(this,n)}};var m="",y=function(n){var t,e=0;if(o(n)&&i(n))for(t in n)n.hasOwnProperty(t)&&e++;return e}(l),g=0;for(var w in l)if(l.hasOwnProperty(w)){g++;var b=encodeURIComponent(l[w]);m+=g==y?w+"="+b:w+"="+b+"&"}"get"==f&&(c(m)?v.open("GET",u):v.open("GET",u+"?"+m),v.send()),"post"==f&&(v.open("GET",u),v.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c(m)?v.send():v.send(m))}}}}})};"undefined"!=typeof Hash&&("function"==typeof define&&define.amd?define(s):n.Hash.server=s,"object"==typeof exports&&(module.exports=s()))}(window),function(n){"use strict";var t=Object.freeze({}),e=function(){},o={hash_get:"{hash:get}",href_get:"{href:get}"};function r(n){return void 0!==typeof n&&null!==n}function i(n){return r(n)&&"string"==typeof n}function a(n,t){return n.hasAttribute(t)?n.getAttribute(t):""}function c(n){return null!==n&&"object"==typeof n}function s(n){return r(n)&&"function"==typeof n}function f(n,t,e){return n.replace(new RegExp(t,"g"),e)}function u(n){return null==n}function l(n){return document.getElementById(n)}class h extends HTMLElement{constructor(){super();var t=a(this,"link"),e=!1;this.hasAttribute("h-top")&&(e=function(n){return!!r(n)&&(function(n){return r(n)&&"boolean"==typeof n}(n)?n:!!i(n)&&"true"==n.toLowerCase())}(a(this,"h-top"))),this.onclick=function(){this.hasAttribute("link")&&(n.location.hash=t),e&&(document.body.scrollTop=0,document.documentElement.scrollTop=0)}}}function d(n){return"main"in n&&i(n.main)?n.main:""}function p(n){return"title"in n&&i(n.title)?n.title:""}function v(t){return i(t)&&(t=f(t,o.hash_get,n.location.hash.slice(1)),t=f(t,o.href_get,n.location.href)),t}function m(t){for(var e=t.split("/"),o=n.location.hash.slice(1).split("/"),i=[],a=[],c=0;c<e.length;c++){var s=e[c];"{any}"==s?i[c]=1:a[c]=s}if(o.length==e.length){for(var f=0,u=[],l=0;l<o.length;l++)o[l]==a[l]?f++:r(i[l])&&1==i[l]&&(f++,u.push(o[l]));return{status:o.length==f,data:u}}return{status:!1}}function y(t,e){var o=m(t);if(o.status){var r=o.data,i=n.location.hash;e.call(this,r,{hash:i,router:t})}}function g(e,o,a,f,h,y){""!=n.location.hash||u(h)||(n.location.hash=h);for(var g=0,w=0;w<y.length;w++)m(y[w]).status&&g++;if(0==g)if(o.hasOwnProperty(a)){var b=o[a];if("main"in b){var L=b.main;r(L)&&(L=v(L),l(e).innerHTML=L)}if("title"in b){var T=b.title;i(T)&&(T=v(T),document.title=T)}if("do"in b){var x=b.do;s(x)&&x.call(this,a,{main:d(b),title:p(b)})}}else if("404"in f){var E="404"in f&&r(f[404])&&c(f[404])?f[404]:t;if("main"in E){var H=d(E);H=v(H),l(e).innerHTML=H}if("title"in E){var j=p(E);j=v(j),document.title=j}if("do"in E){var A=E.do;s(A)&&A.call(this,a)}}}var w=function(o={}){this.app=function(e={}){if("el"in e){var o=e.el;if(i(o)&&!u(l(o))){var a="component"in e&&r(e.component)&&c(e.component)?e.component:t,s="error"in e&&r(e.error)&&c(e.error)?e.error:t,f="def"in e&&i(e.def)&&e.def in a?e.def:null,h="block"in e&&function(n){return r(n)&&Array.isArray(n)}(e.block)?e.block:[],d=n.location.hash.slice(1);g(o,a,d,s,f,h),n.onhashchange=function(){var t=n.location.hash.slice(1);g(o,a,t,s,f,h)}}}},this.router=function(t={}){if("router"in t){var o=t.router;if(i(o)){var r="do"in t&&s(t.do)?t.do:e;y(o,r),n.addEventListener("hashchange",function(){y(o,r)})}}}},b=!1;"undefined"!=typeof Hash&&("function"==typeof define&&define.amd?(define(w),b=!0):(n.Hash.spa=w,b=!0),"object"==typeof exports&&(module.exports=w(),b=!0),b&&n.addEventListener("load",function(){customElements.define("h-link",h)}))}(window);