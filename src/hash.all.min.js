/* 
* HashJs + all plugins v1.2.7 (*)
* Copyright (c) 2020 IRMMR
* MIT License
* Useful
* HashJs(v1.2.3) + HashLoad(v1.0) + HashServer(v1.0) + HashSpa(v1.4.3)
*/
!function(n){"use strict";var t="1.2.3",e="1.2.7",r=(Object.freeze({}),function(){});function i(n){return void 0!==typeof n&&null!==n}function o(n){return i(n)&&"string"==typeof n}function a(n){return i(n)&&"boolean"==typeof n}function f(n){return null!==n&&"object"==typeof n}function s(n,t,e){return n.replace(new RegExp(t,"g"),e)}function c(n){return""==n}function u(n){return null==n}function l(n){return i(n)&&Array.isArray(n)}function h(n){return i(n)?o(n)?n:n.toString():""}function d(n){if(o(n)){var t=n.split("&"),e=0;for(var r in t){var i=t[r].split("="),a=i.length;2==a?o(i[0])&&o(i[1])&&e++:1==a&&o(i[0])&&e++}return t.length==e}return!1}function v(n){if(o(n)&&d(n)){var t=n.split("&"),e={};for(var r in t){var i=t[r].split("="),a=i.length;if(2==a){var f=h(i[0]),s=h(i[1]);e[f]=s}else 1==a&&(s=null,e[f=h(i[0])]=s)}return e}return{}}function p(n){if(i(n)&&f(n)){var t="",e=function(n){var t,e=0;if(i(n)&&f(n))for(t in n)n.hasOwnProperty(t)&&e++;return e}(n),r=0;for(var a in n)if(n.hasOwnProperty(a)){r++;var s=n[a],c=o(s)?s:s.toString(),u=encodeURIComponent(c);t+=r==e?a+"="+u:a+"="+u+"&"}return t}return""}const y={lib:function(t={}){this.hash=n.location.hash,this.href=n.location.href,this.remove=function(t={}){if(i(t)&&f(t)){if("words"in t){var e=t.words;if(l(e)){e=(e=Array.from(new Set(e))).filter(n=>""!==n);for(var r=0;r<e.length;r++){var o=n.location.hash;n.location.hash=s(o,e[r],""),n.location.hash=s(o,escape(e[r]),"")}}}if("query"in t){var a=t.query;if(o=n.location.hash.slice(1),l(a)&&d(o)){var c=v(o),u={};for(var r in c)if(c.hasOwnProperty(r))for(var h in a)r!==a[h]&&(u[r]=c[r]);n.location.hash=p(u)}}}},this.ref=function(n=""){if(!c(n)&&o(n)){var t=document.referrer;return!c(t)&&t==n}return document.referrer},this.have=function(t="",e=""){if(o(t)){var r=c(e)||!o(e)?"value":e,i=n.location.hash;if(!c(i))switch(i=i.slice(1),r){case"value":return i.includes(t);case"query":if(d(i))return v(i).hasOwnProperty(t)}}return!1},this.clear=function(t={}){if(i(t)&&f(t)){var e=!("sharp"in t)||!a(t.sharp)||t.sharp;n.location.hash,n.location.hash="",e&&history.pushState(null,null,n.location.href.split("#")[0])}},this.get=function(t=!0,e={}){if(i(t)&&a(t)&&i(e)&&f(e)){var r=n.location.hash.slice(1);if("query"in e){var s=e.query;if(d(r)){var c=v(r),u={};if(o(s))if("*"==s){for(var h in c)if(c.hasOwnProperty(h)){var p=c[h];u[h]=p}}else for(var h in c)h==s&&c.hasOwnProperty(h)&&(p=c[h],u[h]=p);else if(l(s))for(var h in s)p=s[h],c.hasOwnProperty(p)&&(u[p]=c[p])}return u}return t?n.location.hash.slice(1):n.location.hash}return""},this.set=function(t={}){if(i(t)&&f(t))if("val"in t){var e=t.val;o(e)&&(n.location.hash=e)}else if("query"in t){var r=t.query;if(n.location.hash.slice(1),f(r)){var a=p(r);n.location.hash=a}}},this.add=function(t={}){if(i(t)&&f(t))if("val"in t){var e=t.val;o(e)&&(n.location.hash+=e)}else if("query"in t){var r=t.query,a=n.location.hash.slice(1);if(f(r)){var s=p(r);!c(a)&&d(a)?c(s)||(n.location.hash=a.endsWith("&")?a+s:a+"&"+s):c(a)&&(n.location.hash=s)}}},this.lock=function(t={}){if(i(t)&&f(t)){const t=n.location.hash;n.onhashchange=function(){n.location.hash=t}}},this.is=function(t,e={}){if(o(t)&&i(e)&&f(e)){var r=n.location.hash.slice(1);if(!c(t)){if(!("query"in e))return r==t;var a=e.query;if(d(r)&&o(a)){var s=v(r);if(s.hasOwnProperty(a))return s[a]==t}}}return!1}},info:function(n={}){this.hashVersion=i(t)?t:"?",this.packVersion=i(e)?e:"?",this.addons={load:void 0!==y.load,spa:void 0!==y.spa,server:void 0!==y.server}},el:function(n={}){this.replace=function(n={}){if("text"in n){var t=o(n.text)?n.text:"",e="replace"in n?Array.isArray(n.replace)?n.replace:[n.replace]:[];e=Array.from(new Set(e));for(var r=0;r<e.length;r++){var i=e[r];if(f(i)&&"from"in i&&"to"in i){var a=i.to,c=i.from;u(a)||u(c)||t.includes(c)&&(t=s(t,c,a))}}return t}return""}},event:function(t,e=function(){}){if(i(t)&&o(t)){var a=t.toLowerCase();switch(e=i(e)&&function(n){return i(n)&&"function"==typeof n}(e)?e:r,a){case"change":n.addEventListener("hashchange",e)}}},ready:!0};"function"==typeof define&&define.amd?define(y):n.Hash=y,"object"==typeof exports&&(module.exports=y())}(window),function(n){"use strict";Object.freeze({});var t=function(){};function e(n){return void 0!==typeof n&&null!==n}function r(n){return e(n)&&"function"==typeof n}function i(n){return document.getElementById(n)}var o=function(o={}){this.page=function(e={}){var i="do"in e&&r(e.do)?e.do:t;("load"in e&&r(e.load)?e.load:t).call(this,{startTime:Date.now()});var o=setInterval(function(){if(a++,void 0!==document.getElementsByTagName("body")[0]){n.clearInterval(o);var t={loadTime:n.performance.timing.domContentLoadedEventEnd-n.performance.timing.navigationStart,checkLen:a,startLoad:f,endLoad:Date.now(),load:!0};i.call(this,t)}},10),a=0,f=Date.now()},this.component=function(o={}){if("app"in o&&e(i(o.app))){var a=o.app,f="do"in o&&r(o.do)?o.do:t,s="load"in o&&r(o.load)?o.load:t,c="error"in o&&function(n){return e(n)&&"string"==typeof n}(o.error)?o.error:"\x3c!--h:error--\x3e",u=i(a),l=u.innerHTML;n.addEventListener("hashchange",function(){var t=0,e=Date.now();s.call(this,{hash:n.location.hash.slice(1),startTime:e});var r=setInterval(function(){t++;var i=u.innerHTML;(i!==l||i.includes(c))&&(n.clearInterval(r),f.call(this,{hash:n.location.hash.slice(1),startTime:e,endTime:Date.now(),loadTime:Date.now()-e,checkLen:t,load:!0}),l=i)},10)})}}};"undefined"!=typeof Hash&&("function"==typeof define&&define.amd?define(o):n.Hash.load=o,"object"==typeof exports&&(module.exports=o()))}(window),function(n){"use strict";var t=Object.freeze({}),e=function(){};function r(n){return void 0!==typeof n&&null!==n}function i(n){return r(n)&&"string"==typeof n}function o(n){return null!==n&&"object"==typeof n}function a(n){return r(n)&&"function"==typeof n}function f(n){return""==n}var s=function(s={}){this.ajax=((s={})=>{if("type"in s&&"url"in s){var c=s.type.toLowerCase(),u=s.url;if(i(c)&&i(u)&&("get"==c||"post"==c)){var l="data"in s&&o(s.data)?s.data:t,h="result"in s&&o(s.result)?s.result:t,d="success"in h&&a(h.success)?h.success:e,v="error"in h&&a(h.error)?h.error:e;if("get"==c){var p=null;if(p=n.XMLHttpRequest?new XMLHttpRequest:!!n.ActiveXObject&&new ActiveXObject("Microsoft.XMLHTTP")){p.onreadystatechange=function(){if(p.readyState===XMLHttpRequest.DONE){var n=p.status;200===n?d.call(this,p.responseText):v.call(this,n)}};var y="",m=function(n){var t,e=0;if(r(n)&&o(n))for(t in n)n.hasOwnProperty(t)&&e++;return e}(l),g=0;for(var w in l)if(l.hasOwnProperty(w)){g++;var b=encodeURIComponent(l[w]);y+=g==m?w+"="+b:w+"="+b+"&"}"get"==c&&(f(y)?p.open("GET",u):p.open("GET",u+"?"+y),p.send()),"post"==c&&(p.open("GET",u),p.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f(y)?p.send():p.send(y))}}}}})};"undefined"!=typeof Hash&&("function"==typeof define&&define.amd?define(s):n.Hash.server=s,"object"==typeof exports&&(module.exports=s()))}(window),function(n){"use strict";var t=Object.freeze({}),e=function(){},r={hash_get:"{hash:get}",href_get:"{href:get}"};function i(n){return void 0!==typeof n&&null!==n}function o(n){return i(n)&&"string"==typeof n}function a(n,t){return n.hasAttribute(t)?n.getAttribute(t):""}function f(n){return null!==n&&"object"==typeof n}function s(n){return i(n)&&"function"==typeof n}function c(n,t,e){return n.replace(new RegExp(t,"g"),e)}function u(n){return null==n}function l(n){return document.getElementById(n)}class h extends HTMLElement{constructor(){super();var t=a(this,"link"),e=!1;this.hasAttribute("h-top")&&(e=function(n){return!!i(n)&&(function(n){return i(n)&&"boolean"==typeof n}(n)?n:!!o(n)&&"true"==n.toLowerCase())}(a(this,"h-top"))),this.onclick=function(){this.hasAttribute("link")&&(n.location.hash=t),e&&(document.body.scrollTop=0,document.documentElement.scrollTop=0)}}}function d(n){return"main"in n&&o(n.main)?n.main:""}function v(n){return"title"in n&&o(n.title)?n.title:""}function p(t){return o(t)&&(t=c(t,r.hash_get,n.location.hash.slice(1)),t=c(t,r.href_get,n.location.href)),t}function y(t){for(var e=t.split("/"),r=n.location.hash.slice(1).split("/"),o=[],a=[],f=0;f<e.length;f++){var s=e[f];"{any}"==s?o[f]=1:a[f]=s}if(r.length==e.length){for(var c=0,u=[],l=0;l<r.length;l++)r[l]==a[l]?c++:i(o[l])&&1==o[l]&&(c++,u.push(r[l]));return{status:r.length==c,data:u}}return{status:!1}}function m(t,e){var r=y(t);if(r.status){var i=r.data,o=n.location.hash;e.call(this,i,{hash:o,router:t})}}function g(e,r,a,c,h,m){""!=n.location.hash||u(h)||(n.location.hash=h);for(var g=0,w=0;w<m.length;w++)y(m[w]).status&&g++;if(0==g)if(r.hasOwnProperty(a)){var b=r[a];if("main"in b){var L=b.main;i(L)&&(L=p(L),l(e).innerHTML=L)}if("title"in b){var T=b.title;o(T)&&(T=p(T),document.title=T)}if("do"in b){var x=b.do;s(x)&&x.call(this,a,{main:d(b),title:v(b)})}}else if("404"in c){var E="404"in c&&i(c[404])&&f(c[404])?c[404]:t;if("main"in E){var H=d(E);H=p(H),l(e).innerHTML=H}if("title"in E){var O=v(E);O=p(O),document.title=O}if("do"in E){var q=E.do;s(q)&&q.call(this,a)}}}var w=function(r={}){this.app=function(e={}){if("el"in e){var r=e.el;if(o(r)&&!u(l(r))){var a="component"in e&&i(e.component)&&f(e.component)?e.component:t,s="error"in e&&i(e.error)&&f(e.error)?e.error:t,c="def"in e&&o(e.def)&&e.def in a?e.def:null,h="block"in e&&function(n){return i(n)&&Array.isArray(n)}(e.block)?e.block:[],d=n.location.hash.slice(1);g(r,a,d,s,c,h),n.onhashchange=function(){var t=n.location.hash.slice(1);g(r,a,t,s,c,h)}}}},this.router=function(t={}){if("router"in t){var r=t.router;if(o(r)){var i="do"in t&&s(t.do)?t.do:e;m(r,i),n.addEventListener("hashchange",function(){m(r,i)})}}},this.exports=function(n={}){this.render=function(n={}){if("el"in n){var t=n.el;if(o(t)&&!u(l(t))&&"render"in n){var e=n.render;o(e)&&(l(t).innerHTML=e)}}},this.title=function(n,t={}){o(n)&&(document.title=n)}}},b=!1;"undefined"!=typeof Hash&&("function"==typeof define&&define.amd?(define(w),b=!0):(n.Hash.spa=w,b=!0),"object"==typeof exports&&(module.exports=w(),b=!0),b&&n.addEventListener("load",function(){"undefined"!=typeof customElements&&customElements.define("h-link",h)}))}(window);