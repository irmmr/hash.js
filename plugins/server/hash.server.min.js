/* 
* HashJs plugin : server v1.2 (mini file)
* Copyright (c) 2020 IRMMR
* MIT License
*/
!function(e){"use strict";var t=Object.freeze({}),n=function(){};function o(e){return void 0!==typeof e&&null!==e}function r(e){return o(e)&&"string"==typeof e}function s(e){return null!==e&&"object"==typeof e}function i(e){return o(e)&&"function"==typeof e}function u(e){return""==e}var a=function(a={}){this.ajax=((a={})=>{if("type"in a&&"url"in a){var c=a.type.toLowerCase(),f=a.url;if(r(c)&&r(f)&&("get"==c||"post"==c)){var p="data"in a&&s(a.data)?a.data:t,d="result"in a&&s(a.result)?a.result:t,l="success"in d&&i(d.success)?d.success:n,y="error"in d&&i(d.error)?d.error:n,v="encode"in d&&r(Result.encode)?Result.encode:"json",w=null;if(w=e.XMLHttpRequest?new XMLHttpRequest:!!e.ActiveXObject&&new ActiveXObject("Microsoft.XMLHTTP")){if(w.onreadystatechange=function(){if(w.readyState===XMLHttpRequest.DONE){var e=w.status;200===e?l.call(this,w.responseText):y.call(this,e)}},"form"==v){var j="",H=function(e){var t,n=0;if(o(e)&&s(e))for(t in e)e.hasOwnProperty(t)&&n++;return n}(p),R=0;for(var T in p)if(p.hasOwnProperty(T)){R++;var h=encodeURIComponent(p[T]);j+=R==H?T+"="+h:T+"="+h+"&"}}else"json"==v&&(j=JSON.stringify(p));"get"==c?(u(j)?w.open("GET",f):w.open("GET",f+"?"+j),w.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),w.send()):"post"==c&&(w.open("POST",f),"form"==v?w.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):w.setRequestHeader("Content-Type","application/json"),u(j)?w.send():w.send(j))}}}})};"undefined"!=typeof Hash&&("function"==typeof define&&define.amd?(define(a),!0):(e.Hash.server=a,!0),"object"==typeof exports&&(module.exports=a()))}(window);