/* 
* HashJs plugin : spa v1.5 (mini file)
* Copyright (c) 2020 IRMMR
* MIT License
*/
!function(t){"use strict";var n=Object.freeze({}),e=function(){},i={hash_get:"{hash:get}",href_get:"{href:get}"};function r(t){return void 0!==typeof t&&null!==t}function o(t){return r(t)&&"string"==typeof t}function a(t){return r(t)&&"boolean"==typeof t}function u(t,n){return t.hasAttribute(n)?t.getAttribute(n):""}function l(t){return null!==t&&"object"==typeof t}function c(t){return r(t)&&"function"==typeof t}function s(t,n,e){return t.replace(new RegExp(n,"g"),e)}function f(t,n=null){return c(t)?null!==n?t.call(this,n):t.call(this):null}function h(t){return null==t}function d(t){return document.getElementById(t)}class v extends HTMLElement{constructor(){super()}}class p extends HTMLElement{constructor(){super();var n,e=u(this,"link"),i=!1;this.hasAttribute("h-top")&&(n=u(this,"h-top"),i=!!r(n)&&(a(n)?n:!!o(n)&&"true"==n.toLowerCase())),this.onclick=function(){this.hasAttribute("link")&&(t.location.hash=e),i&&(document.body.scrollTop=0,document.documentElement.scrollTop=0)}}}function m(t){return"main"in t&&o(t.main)?t.main:""}function g(t){return"title"in t&&o(t.title)?t.title:""}function y(n){return o(n)&&(n=s(n,i.hash_get,t.location.hash.slice(1)),n=s(n,i.href_get,t.location.href)),n}function w(t){return t}function b(n){for(var e=n.split("/"),i=t.location.hash.slice(1).split("/"),o=[],a=[],u=0;u<e.length;u++){var l=e[u];"{any}"==l?o[u]=1:a[u]=l}if(i.length==e.length){for(var c=0,s=[],f=0;f<i.length;f++){i[f]==a[f]?c++:r(o[f])&&1==o[f]&&(c++,s.push(i[f]))}return{status:i.length==c,data:s}}return{status:!1}}function E(n,e){var i=b(n);if(i.status){var r=i.data,o=t.location.hash;e.call(this,r,{hash:o,router:n})}}function T(e,i,a,u,s,d,v){var p=t.location.hash;""!=p||h(s)||(t.location.hash=s);for(var w=0,E=0;E<d.length;E++){b(d[E]).status&&w++}if(0==w)if(i.hasOwnProperty(a)){var T=i[a];if("main"in T){var L=T.main;r(L)&&(L=y(L),e.innerHTML=f(v,L))}if("title"in T){var H=T.title;o(H)&&(H=y(H),document.title=H)}if("do"in T){var k=T.do;c(k)&&k.call(this,a,{main:f(v,m(T)),title:f(v,g(T))})}}else if("404"in u){var x="404"in u&&r(u[404])&&l(u[404])?u[404]:n;if("main"in x){var A=m(x);A=y(A),e.innerHTML=f(v,A)}if("title"in x){var M=g(x);M=y(M),document.title=M}if("do"in x){var _=x.do;c(_)&&_.call(this,a)}}}var L=function(i={}){this.app=function(e={}){if("el"in e){var i=e.el;if(o(i)&&!h(d(i))){var a="component"in e&&r(e.component)&&l(e.component)?e.component:n,u="error"in e&&r(e.error)&&l(e.error)?e.error:n,s="def"in e&&o(e.def)&&e.def in a?e.def:null,f="app"in e&&o(e.app)?e.app:"<h-router-view></h-router-view>",v="filter"in e&&c(e.filter)?e.filter:w,p="block"in e&&function(t){return r(t)&&Array.isArray(t)}(e.block)?e.block:[],m=t.location.hash.slice(1);d(i).innerHTML=f;var g=d(i).getElementsByTagName("h-router-view")[0],y=h(g)?d(i):g;T(y,a,m,u,s,p,v),t.onhashchange=function(){var n=t.location.hash.slice(1);T(y,a,n,u,s,p,v)}}}},this.router=function(n={}){if("router"in n){var i=n.router;if(o(i)){var r="do"in n&&c(n.do)?n.do:e;E(i,r),t.addEventListener("hashchange",function(){E(i,r)})}}},this.exports=function(t={}){this.render=function(t={}){if("el"in t){var n=t.el;if(o(n)&&!h(d(n))&&"render"in t){var e="view"in t&&!!a(t.view)&&t.view,i=t.render;if(o(i)){var r=d(n).getElementsByTagName("h-router-view")[0];(!h(r)&&e?r:d(n)).innerHTML=i}}}},this.title=function(t,n={}){o(t)&&(document.title=t)}}},H=!1;"undefined"!=typeof Hash&&("function"==typeof define&&define.amd?(define(L),H=!0):(t.Hash.spa=L,H=!0),"object"==typeof exports&&(module.exports=L(),H=!0),H&&t.addEventListener("load",function(){"undefined"!=typeof customElements&&(customElements.define("h-link",p),customElements.define("h-router-view",v))}))}(window);