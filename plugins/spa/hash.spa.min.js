/* 
* HashJs plugin : spa v1.4 (mini file)
* Copyright (c) 2020 IRMMR
* MIT License
*/
!function(t){"use strict";var n=Object.freeze({}),e=function(){},i={hash_get:"{hash:get}",href_get:"{href:get}"};function o(t){return void 0!==typeof t&&null!==t}function r(t){return o(t)&&"string"==typeof t}function a(t){return!!o(t)&&(function(t){return o(t)&&"boolean"==typeof t}(t)?t:!!r(t)&&"true"==t.toLowerCase())}function u(t,n){return t.hasAttribute(n)?t.getAttribute(n):""}function c(t){return null!==t&&"object"==typeof t}function f(t){return o(t)&&"function"==typeof t}function l(t,n,e){return t.replace(new RegExp(n,"g"),e)}function s(t){return null==t}function h(t){return document.getElementById(t)}class d extends HTMLElement{constructor(){super();var n=u(this,"link"),e=!1;this.hasAttribute("h-top")&&(e=a(u(this,"h-top"))),this.onclick=function(){this.hasAttribute("link")&&(t.location.hash=n),e&&(document.body.scrollTop=0,document.documentElement.scrollTop=0)}}}function p(t){return"main"in t&&r(t.main)?t.main:""}function v(t){return"title"in t&&r(t.title)?t.title:""}function m(n){return r(n)&&(n=l(n,i.hash_get,t.location.hash.slice(1)),n=l(n,i.href_get,t.location.href)),n}function g(n){for(var e=n.split("/"),i=t.location.hash.slice(1).split("/"),r=[],a=[],u=0;u<e.length;u++){var c=e[u];"{any}"==c?r[u]=1:a[u]=c}if(i.length==e.length){for(var f=0,l=[],s=0;s<i.length;s++){i[s]==a[s]?f++:o(r[s])&&1==r[s]&&(f++,l.push(i[s]))}return{status:i.length==f,data:l}}return{status:!1}}function y(n,e){var i=g(n);if(i.status){var o=i.data,r=t.location.hash;e.call(this,o,{hash:r,router:n})}}function b(e,i,a,u,l,d){var y=t.location.hash;""!=y||s(l)||(t.location.hash=l);for(var b=0,k=0;k<d.length;k++){g(d[k]).status&&b++}if(0==b)if(i.hasOwnProperty(a)){var E=i[a];if("main"in E){var A=E.main;o(A)&&(A=m(A),h(e).innerHTML=A)}if("title"in E){var L=E.title;r(L)&&(L=m(L),document.title=L)}if("do"in E){var w=E.do;f(w)&&w.call(this,a,{main:p(E),title:v(E)})}}else if("404"in u){var H="404"in u&&o(u[404])&&c(u[404])?u[404]:n;if("main"in H){var T=p(H);T=m(T),h(e).innerHTML=T}if("title"in H){var x=v(H);x=m(x),document.title=x}if("do"in H){var _=H.do;f(_)&&_.call(this,a)}}}var k=function(i={}){this.app=function(e={}){if("el"in e){var i=e.el;if(r(i)&&!s(h(i))){var a="component"in e&&o(e.component)&&c(e.component)?e.component:n,u="error"in e&&o(e.error)&&c(e.error)?e.error:n,f="def"in e&&r(e.def)&&e.def in a?e.def:null,l="block"in e&&function(t){return o(t)&&Array.isArray(t)}(e.block)?e.block:[],d=t.location.hash.slice(1);b(i,a,d,u,f,l),t.onhashchange=function(){var n=t.location.hash.slice(1);b(i,a,n,u,f,l)}}}},this.router=function(n={}){if("router"in n){var i=n.router;if(r(i)){var o="do"in n&&f(n.do)?n.do:e;y(i,o),t.addEventListener("hashchange",function(){y(i,o)})}}}},E=!1;"undefined"!=typeof Hash&&("function"==typeof define&&define.amd?(define(k),E=!0):(t.Hash.spa=k,E=!0),"object"==typeof exports&&(module.exports=k(),E=!0),E&&t.addEventListener("load",function(){customElements.define("h-link",d)}))}(window);